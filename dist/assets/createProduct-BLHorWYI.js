import{u as S,a as b,r as o,j as r}from"./index-BB63jZdJ.js";const w=()=>{const{user:p,loading:P}=S(e=>e.userReducer),[d]=b(),[s,m]=o.useState(""),[n,g]=o.useState(),[c,h]=o.useState(),[u,x]=o.useState(""),[l,f]=o.useState(""),[i,v]=o.useState(),y=e=>{const t=e.target.files?.[0],a=new FileReader;t&&(a.readAsDataURL(t),a.onloadend=()=>{typeof a.result=="string"&&(f(a.result),v(t))})},j=async e=>{e.preventDefault();const t=new FormData;if(!s||!n||!c||!u||!i)return;t.set("name",s),t.set("price",n.toString()),t.set("stock",c.toString()),t.set("category",u),t.set("photo",i);const a=await d({email:p?.email,formdata:t});console.log(a)};return r.jsx("div",{className:"create-product",children:r.jsxs("form",{onSubmit:j,children:[r.jsx("input",{type:"text",placeholder:"Enter product name",value:s,onChange:e=>{m(e.target.value)}}),r.jsx("input",{type:"number",placeholder:"Enter product price",value:n,onChange:e=>{g(Number(e.target.value))}}),r.jsx("input",{type:"number",placeholder:"Enter product stock",value:c,onChange:e=>{h(Number(e.target.value))}}),r.jsx("input",{type:"text",placeholder:"Enter product category",value:u,onChange:e=>{x(e.target.value)}}),r.jsx("input",{type:"file",onChange:y}),l&&r.jsx("img",{src:l,alt:"New Image"}),r.jsx("button",{type:"submit",children:"Create"})]})})};export{w as default};
